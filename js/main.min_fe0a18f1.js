var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(e){r(e)}}function a(t){try{h(n["throw"](t))}catch(e){r(e)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,r=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(n){i=[6,n],r=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,r,o,a,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var h=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(n,generateJSON.paths[t])},this):RES.getResByUrl(h,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(n,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.stage.maxTouches=1,this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[4,platform.login()];case 2:return e.sent(),[4,platform.getUserInfo()];case 3:return t=e.sent(),console.log(t),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,RES.loadGroup("loading")];case 2:return i.sent(),[4,this.loadTheme()];case 3:return i.sent(),t=new LoadingScene,this.stage.addChild(t),document.querySelector("#mask").remove(),[4,RES.loadGroup("preload",0,t)];case 4:return i.sent(),this.stage.removeChild(t),[3,6];case 5:return e=i.sent(),alert(e),[3,6];case 6:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var n=new eui.Theme("resource/default.thm.json",t.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){this.addChild(new BeginScene)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var Particle=function(t){function e(e){var i=this;console.log("init Particle");var n=RES.getRes(e+"_png"),s=RES.getRes(e+"_json"),r=new egret.MovieClipDataFactory(s,n);return i=t.call(this,r.generateMovieClipData())||this}return __extends(e,t),e}(egret.MovieClip);__reflect(Particle.prototype,"Particle");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var $Air;!function(t){function e(){console.log("恭喜~喜提彩蛋~~")}t.Change=function(t,e){for(var i in e)t[i]=e[i]},t.Changes=function(t,e){for(var i=0,n=t;i<n.length;i++){var s=n[i];for(var r in e)s[r]=e[r]}},t.lalala=e}($Air||($Air={}));var Block=function(t){function e(e){var i=t.call(this)||this;i.game=egret.MainContext.instance.stage.$children[0].$children[0],i.touchEnabled=!1;for(var n=0;4>n;n++)i.addChild(new eui.Image);return i.scaleX=i.scaleY=.5,i.update(e),i}return __extends(e,t),e.prototype.update=function(t,e){var i=RES.getRes(t),n=this.getElementAt(3),s=this.getElementAt(2),r=this.getElementAt(1),o=this.getElementAt(0);n.texture=i.getTexture("top"),s.texture=i.getTexture("left"),r.texture=i.getTexture("right"),o.texture=i.getTexture("shadow"),$Air.Change(n,{anchorOffsetY:n.height,rotation:this.game.angle-90,skewX:-this.game.angle,y:1}),$Air.Change(s,{anchorOffsetX:s.width,anchorOffsetY:s.height,skewY:90-this.game.angle,y:s.height-1}),$Air.Change(r,{anchorOffsetY:r.height,skewY:this.game.angle-90,y:r.height}),$Air.Change(o,{anchorOffsetX:30,anchorOffsetY:o.height,rotation:this.game.angle-90,skewX:-this.game.angle,scaleY:1.3,y:s.height}),this.anchorOffsetY=-n.width/2,e&&(this.scaleX=this.scaleY=e)},e}(eui.Group);__reflect(Block.prototype,"Block");var BeginScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init()},e.prototype.init=function(){this.StartBtn.once(egret.TouchEvent.TOUCH_TAP,this.gameStart,this),this.RankBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankShow,this),this.CloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeModal,this)},e.prototype.gameStart=function(){console.log("touch"),this.parent.addChild(new GameScene),this.parent.removeChild(this)},e.prototype.rankShow=function(){this.Mask.visible=!0,this.CloseBtn.visible=!0,this.RankModal.visible=!0,this._OpenModal=this.RankModal},e.prototype.closeModal=function(){this.CloseBtn.visible=!1,this.Mask.visible=!1,this._OpenModal.visible=!1},e}(eui.Component);__reflect(BeginScene.prototype,"BeginScene",["eui.UIComponent","egret.DisplayObject"]);var axios=window.axios,GameScene=function(t){function e(){var e=t.call(this)||this;return e.auxilShape=new egret.Shape,e.auxil={x:180,y:900,length:0},e.blockCenter=new egret.Shape,e.animationTime=400,e.transferTime=500,e.blockDistance=64,e.points=0,e.combo=0,e.comboText=new eui.Label,e.blockCounter=2,e.speed=450,e.direction=1,e.angle=60,e.minDistance=240,e.maxDistance=450,e.jumpDistance=1,e.isReadyJump=!1,e.startPos=new egret.Point,e.targetPos=new egret.Point,e.time=0,e.useBlockArr=[],e.availBlockArr=[],e.leftOrigin={x:180,y:750},e.rightOrigin={x:egret.MainContext.instance.stage.stageWidth-160,y:e.leftOrigin.y},e}return __extends(e,t),Object.defineProperty(e.prototype,"_point",{get:function(){return this.points},set:function(t){console.log("proxy: points",t),this.points=+t,this.pointsLabel.text=this.points+""},enumerable:!0,configurable:!0}),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init()},e.prototype.createBlock=function(){var t;return this.availBlockArr.length?t=this.availBlockArr.splice(0,1)[0]:(t=new eui.Image,t.touchEnabled=!1,t.anchorOffsetX=226,t.anchorOffsetY=78),t},e.prototype.createBlockGroup=function(t){var e;return this.availBlockArr.length?(e=this.availBlockArr.splice(0,1)[0],e.update(t)):e=new Block(t),e},e.prototype.addBlock=function(t){var e=this;void 0===t&&(t={x:0,y:0,source:null,callback:{name:"精灵球",title:"道具页"}});var i=~~(Math.random()*this.blockimg.length),n=this.blockimg[i];console.log("皮肤",n);var s=this.createBlockGroup(n);2==i?this.PropsCallback=t.callback:this.PropsCallback=null;var r=this.minDistance+Math.random()*(this.maxDistance-this.minDistance);console.log("##方块距离：",r),s.x=t.x||this.next.x+Math.sin(.017453293*this.angle)*r*this.direction,s.y=t.y||this.next.y-Math.cos(.017453293*this.angle)*r,s.anchorOffsetY+=300,this.game.addChildAt(s,0),egret.Tween.get(s).to({anchorOffsetY:s.anchorOffsetY-300},300,egret.Ease.bounceOut).call(function(){var t=e.blockCenter;t.x=s.x,t.y=s.y,t.visible=!0}),this.blockCounter++,this.useBlockArr.push(s),this.next=s},e.prototype.initBlock=function(){this.next=this.second,this.now=this.first,this.game.$children.length<4&&(this.game.addChild(this.second),this.game.addChild(this.first)),this.useBlockArr.push(this.now,this.next),console.log("# init",this.next.x,this.next.y)},e.prototype.init=function(){var t=this;this.over.visible=!1,this.modal.visible=!1,this.SubmitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.propsSubmit,this),this.CancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.propsCancel,this),this.RestartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reset,this),this.ReliveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.relive,this),this.blockimg=RES.getGroupByName("block").map(function(t){return t.name}),this.pushVoice=RES.getRes("push_mp3"),this.jumpVoice=RES.getRes("jump_mp3"),this.initBlock(),this._point=0,this.game.addChild(this.pointsLabel),this.game.touchEnabled=!1,this.game.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.go,this),this.game.addEventListener(egret.TouchEvent.TOUCH_END,this.jump,this);var e=this.blockCenter;e.visible=!1,e.graphics.beginFill(22015,.3),e.graphics.drawCircle(0,0,this.blockDistance+30),e.graphics.beginFill(22015,.3),e.graphics.drawCircle(0,0,this.blockDistance),e.graphics.beginFill(16777215,.8),e.graphics.drawCircle(0,0,15),e.graphics.endFill(),this.game.addChild(e),this.auxilShape.graphics.clear(),this.addChild(this.auxilShape),this.Particle=this.initParticle("Particle"),this.Particle.anchorOffsetY=40,this.game.addChild(this.Particle),this.player.y=this.first.y-100,egret.Tween.get(this.player).to({y:this.first.y},600,egret.Ease.bounceOut).call(function(){t.game.touchEnabled=!0}),egret.startTick(this.computeDistance,this)},e.prototype.initParticle=function(t){console.log("# initParticle init");var e=RES.getRes(t+"_png"),i=RES.getRes(t+"_json");return new particle.GravityParticleSystem(e,i)},e.prototype.gameOver=function(){this.over.visible=!0,this.game.touchEnabled=!1,this.game.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.go,this),this.game.removeEventListener(egret.TouchEvent.TOUCH_END,this.jump,this)},e.prototype.propsSubmit=function(){this.modal.visible=!1,this.modal.touchEnabled=!1;var t=this.points;this._point=t+1},e.prototype.propsCancel=function(){this.modal.visible=!1,this.modal.touchEnabled=!1},e.prototype.reset=function(){var t=this;this.game.touchEnabled=!1,this.blockCounter=0,this._point=0,this.combo=0,this.PropsCallback=null;for(var e=0,i=this.useBlockArr;e<i.length;e++){var n=i[e];this.game.removeChild(n)}var s=this.availBlockArr.concat(this.useBlockArr);this.availBlockArr=s.filter(function(e){return e!==t.first&&e!==t.second}),this.second.x=this.leftOrigin.x+347*Math.sin(.017453293*this.angle),this.second.y=this.leftOrigin.y-347*Math.cos(.017453293*this.angle),this.first.x=this.leftOrigin.x,this.first.y=this.leftOrigin.y,this.direction=1,this.next=this.second,this.now=this.first,this.useBlockArr=[this.first,this.second],this.game.addChildAt(this.first,0),this.game.addChildAt(this.second,0),this.blockCounter=2,this.relive()},e.prototype.relive=function(){var t=this;this.game.setChildIndex(this.player,2),this.player.rotation=0,this.player.x=this.now.x,this.player.y=this.now.y-100,egret.Tween.get(this.player).to({y:this.now.y},600,egret.Ease.bounceOut).call(function(){t.over.visible=!1,t.game.touchEnabled=!0,t.game.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.go,t),t.game.addEventListener(egret.TouchEvent.TOUCH_END,t.jump,t)})},e.prototype.computeDistance=function(t){var e=t,i=this.time,n=(e-i)/1e3;return this.isReadyJump&&(this.jumpDistance+=this.speed*n,this.auxiliary()),this.time=e,!0},e.prototype.comboAnimation=function(t,e){var i=this.comboText;i.x=this.targetPos.x,i.y=this.targetPos.y-this.player.height-20,i.alpha=1,console.log("combo",this.combo),egret.Tween.get(this.comboText).to({x:t,y:e-260,alpha:0},this.transferTime)},e.prototype.checkResult=function(){var t=this,e=this.now,i=Math.sqrt(Math.pow(this.player.x-e.x,2)+Math.pow(this.player.y-e.y,2)),n=(e.getChildAt(e.numChildren-1).width*e.scaleX/2,this.next),s=Math.sqrt(Math.pow(this.player.x-n.x,2)+Math.pow(this.player.y-n.y,2));n.getChildAt(n.numChildren-1).width*n.scaleX/2;s>15?this.combo=0:this._point=this.points+2*++this.combo-1,console.log("圆心距离",s);var r=n.getChildAt(3).hitTestPoint(this.player.x,this.player.y,!0);if(console.log("碰撞检测",r),i>this.blockDistance&&this.game.swapChildrenAt(2,1),s<=this.blockDistance){this.now=n,this.PropsCallback&&(this.modal.touchEnabled=!0,this.modal.visible=!0,this.PropsName.text=this.PropsCallback.name,this.PropsTitle.text=this.PropsCallback.title),this._point++,this.direction=Math.random()<.5?1:-1;var o=void 0,a=void 0;o=this.direction>0?this.leftOrigin.x:this.rightOrigin.x,a=this.leftOrigin.y,console.log("####################",this.stage.stageHeight);var h=this.now.x-o,l=this.now.y-a,c=void 0,u=void 0;c=this.player.x-h,u=this.player.y-l,this.updateAll(h,l),this.combo&&this.comboAnimation(c,u),egret.Tween.get(this.player).to({x:c,y:u},this.transferTime).call(function(){t.addBlock(),t.game.touchEnabled=!0})}else{if(i<=this.blockDistance)return void(this.game.touchEnabled=!0);var p=1;this.player.y<n.y&&(this.game.swapChildrenAt(1,0),p=0);var g={rotation:(56-180*p)*this.direction,y:this.player.y+.3*n.getChildAt(2).height};console.log("掉下",.3*n.getChildAt(2).height),s>this.blockDistance+30&&(g.rotation=0),console.log("方向",this.direction,"角度",g.rotation),egret.Tween.get(this.player).to(g,450).call(function(){t.gameOver()})}},e.prototype.updateAll=function(t,e){for(var i=this.useBlockArr.length-1;i>=0;i--){var n=this.useBlockArr[i];if(n.x<-350||n.x-this.stage.stageWidth>350||n.y-this.stage.stageHeight>350){if(this.useBlockArr.length>3){var s=this.useBlockArr.splice(i,1)[0];n&&this.game.removeChild(n),s!==this.first&&s!==this.second&&this.availBlockArr.push(s)}}else egret.Tween.get(n).to({x:n.x-t,y:n.y-e},this.transferTime)}console.log("可用池",this.availBlockArr),console.log("已用池",this.useBlockArr),console.log("显示列表",this.game.$children)},e.prototype.go=function(){this.isReadyJump||egret.setTimeout(this.readyJump,this,1)},e.prototype.readyJump=function(){this.isReadyJump=!0,this.jumpDistance=1;var t=this.player;this.auxil.x=t.x,this.auxil.y=t.y,this.auxil.length=Math.sqrt(Math.pow(this.next.x-t.x,2)+Math.pow(this.next.y-t.y,2)),this.startPos.x=t.x,this.startPos.y=t.y-t.height/2,this.SoundChannel=this.pushVoice.play(0,1),this.Particle.x=this.player.x,this.Particle.y=this.player.y,this.Particle.start();var e=this.now.getElementAt(3),i=this.now.getElementAt(2),n=this.now.getElementAt(1),s=this.now.getElementAt(0),r=.4*i.height;egret.Tween.get(t).to({scaleY:.6,y:t.y+r*this.now.scaleY},1500),egret.Tween.get(e).to({y:r},1500),egret.Tween.get(i).to({scaleY:.6},1500),egret.Tween.get(n).to({scaleY:.6},1500),egret.Tween.get(s).to({scaleY:1.15},1500)},e.prototype.jump=function(){var t=this;if(this.isReadyJump){this.game.touchEnabled=!1,this.SoundChannel.stop(),this.jumpVoice.play(0,1),this.isReadyJump=!1;var e=this.auxil.x+(this.next.x-this.auxil.x)*this.jumpDistance/this.auxil.length,i=this.auxil.y+(this.next.y-this.auxil.y)*this.jumpDistance/this.auxil.length;this.auxilShape.graphics.clear(),console.log("擦除"),this.blockCenter.visible=!1,this.Particle.stop(),egret.Tween.removeAllTweens();var n=this.next.x-this.player.x,s=this.next.y-this.player.y,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),o=this.jumpDistance<30?30:this.jumpDistance,a=this.player.x+n*o/r,h=this.player.y+s*o/r,l=this.animationTime;this.targetPos.x=a,this.targetPos.y=h,console.log("落点距离:",~~this.jumpDistance,", 坐标:{",~~a,",",~~h,"} ,","辅助线坐标：{",~~e,",",~~i,"}");var c=this.now.getElementAt(3),u=this.now.getElementAt(2),p=this.now.getElementAt(1),g=this.now.getElementAt(0);egret.Tween.get(c).to({y:1},1e3,egret.Ease.elasticOut),egret.Tween.get(u).to({scaleY:1},1e3,egret.Ease.elasticOut),egret.Tween.get(p).to({scaleY:1},1e3,egret.Ease.elasticOut),egret.Tween.get(g).to({scaleY:1.3},1e3,egret.Ease.elasticOut),egret.Tween.get(this).to({factor:1},l).call(function(){t.player.anchorOffsetY=t.player.height-10,t.player.y=t.targetPos.y,t.jumpDistance=1,t.player.scaleY=1,t.checkResult()}),this.player.anchorOffsetY=this.player.height/2;var d=egret.Tween.get(this.player).to({rotation:360*this.direction},l);d.set({rotation:0})}},Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(t){var e=this.player,i={x:this.targetPos.x,y:this.targetPos.y-e.height/2},n=this.startPos,s=new egret.Point;s.x=n.x+.3*(i.x-n.x),s.y=i.y-300,e.x=(1-t)*(1-t)*n.x+2*t*(1-t)*s.x+t*t*i.x,e.y=Math.pow(1-t,2)*n.y+2*t*(1-t)*s.y+Math.pow(t,2)*i.y},enumerable:!0,configurable:!0}),e.prototype.auxiliary=function(){var t=this.auxil.x+(this.next.x-this.auxil.x)*this.jumpDistance/this.auxil.length,e=this.auxil.y+(this.next.y-this.auxil.y)*this.jumpDistance/this.auxil.length,i=this.auxilShape.graphics;i.lineStyle(5,65280),i.moveTo(this.auxil.x,this.auxil.y),i.lineTo(t,e),i.endFill()},e}(eui.Component);__reflect(GameScene.prototype,"GameScene",["eui.UIComponent","egret.DisplayObject"]);var LoadingScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.createView=function(){this.width=egret.MainContext.instance.stage.stageWidth,this.height=egret.MainContext.instance.stage.stageHeight},e.prototype.onProgress=function(t,e,i){this.loadText.text=~~(t/e*100)+"%",this.loadBar.width=~~(t/e*500)},e}(eui.Component);__reflect(LoadingScene.prototype,"LoadingScene",["eui.UIComponent","egret.DisplayObject"]);